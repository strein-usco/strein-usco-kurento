<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>STREIN</title>

  <!-- icon-->
  <link rel="shortcut icon" href="/images/icono.gif">
  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <link href="/stylesheets/include.css" type="text/css" rel="stylesheet" media="screen"/>
  <link href="/stylesheets/strein.css" type="text/css" rel="stylesheet" media="screen"/>
  <!--link rel="stylesheet" type="text/css" href="/stylesheets/emojionearea.min.css">
  <script src="/javascript/lib/RTCMultiConnection.js"></script-->

  <!--  Scripts-->
  <script src="/javascript/lib/jquery.3.3.1.js"></script>
  <script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src="/javascript/lib/materialize.js"></script>
  <script src="/javascript/lib/init.js"></script>
  <script src="/javascript/lib/kurento-utils.js"></script>
  <!--script src="/node_modules/fbr/FileBufferReader.js"></script>
  <script src="https://www.webrtc-experiment.com/screenshot.js"></script>
  <script src="https://www.webrtc-experiment.com/RecordRTC.js"></script-->

  <script src="/bower_components/webrtc-adapter/release/adapter.js"></script>
  <!--script src="/bower_components/jquery/dist/jquery.min.js"></script-->
  <!--script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script-->
  <script src="/bower_components/demo-console/index.js"></script>
  <script src="/bower_components/ekko-lightbox/dist/ekko-lightbox.min.js"></script>
  <script src="/javascript/kurento-group-table.js"></script>

  <!--script src="/bower_components/kurento-utils/js/kurento-utils.js"></script-->

  <!-- Funciones -->
  <script src="/javascript/lib/init.js"></script>
  <script src="/javascript/lib/effects-fabric.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.7.11/fabric.min.js"></script>
  <!--script src="/javascript/lib/emojionearea.min.js"></script-->


</head>

<body>

  <!-- Dropdown Structure -->
  <ul id='dropdown2' class='dropdown-content'>
    <li><a href="/tutor-account" class="grayusco-text">TODOS MIS CURSOS</a></li>
    <% for(var i=0; i<course.length; i++) {%>
    <li><a href="/tutor-account/info-curso/<%= courses[i]._id  %>" class="grayusco-text"><%= course[i].name_course  %></a></li>
    <% } %>
  </ul>

  <nav class="transparent" role="navigation">
    <div class="nav-wrapper">
      <a class="brand-logo redusco-text text-darken-4" value="<%= course.name_course %>"><i class="material-icons logo"><img src="/images/icono0.gif"></i><%= name %></a>
      <a data-target="mobile-demo" class="sidenav-trigger right"><i class="large material-icons redusco-text">apps</i></a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">
        <li><a href="/tutor-account" class="redusco-text" title="Inicio"><i class="material-icons">account_balance</i></a></li>
        <li><a id="account" class="redusco-text" href="/tutor-account/dataTutor" title="Cambiar Contraseña"><i class="material-icons left-align">vpn_key</i></a></li>
        <li><a id="" class="redusco-text" href="/tutor-account##email" title="Correo"><i class="material-icons left-align">markunread</i></a></li>
        <li><a id="account" class=" dropdown-trigger redusco-text" data-target='dropdown2' title="Mis cursos"><i class="material-icons left-align">school</i></a></li>
        <li><a href="/logout" id="logout" title="Cerrar sesión"><i class="material-icons left-align redusco-text">exit_to_app</i></a></li>
        <li><a href="javascript:history.back(1)" class="redusco-text" id="back" title="Atrás"><i class="tiny material-icons">arrow_back</i></a></li>
      </ul>
    </div>
  </nav>

  <!-- Dropdown Structure -->
  <ul id='dropdown1' class='dropdown-content'>
    <li><a href="/tutor-account" class="grayusco-text">TODOS MIS CURSOS</a></li>
    <% for(var i=0; i<course.length; i++) {%>
    <li><a href="/tutor-account/info-curso/<%= courses[i]._id  %>" class="grayusco-text"><%= course[i].name_course  %></a></li>
    <% } %>
  </ul>

  <ul class="sidenav" id="mobile-demo">
    <li><a href="#" class="right-align sidenav-close">X</a></li>
    <br><br><br>
    <li><a href="/tutor-account" class="redusco-text" title="Inicio"><i class="material-icons">account_balance</i>Inicio</a></li>
    <li><a id="account" class="redusco-text" href="/tutor-account/dataTutor" title="Cambiar Contraseña"><i class="material-icons left-align">vpn_key</i>Cambiar contraseña</a></li>
    <li><a id="" class="redusco-text" href="/tutor-account">Correo<i class="material-icons left-align">markunread</i></a></li>
    <li><a id="account" class=" dropdown-trigger redusco-text" data-target='dropdown1' title="Mis cursos"><i class="material-icons left-align">school</i>Cursos</a></li>
    <li><a href="/logout" id="logout" class="redusco-text" title="Cerrar sesión"><i class="material-icons left-align">exit_to_app</i>Cerrar sesión</a></li>
    <li><a href = "javascript:history.back(1)" class="redusco-text" title="Atrás"><i class="tiny material-icons">arrow_back</i>Atrás</a></li>
  </ul> 
  
  <main>
    <input type="hidden" value="<%=id_tutor%>" id="id_tutor" />
    <input type="hidden" value="<%=course%>" id="id_CourProf" />
    <input type="hidden" value="<%=id_class%>" id="id_class" />
    <input type="hidden" value="<%=name_video%>" id="name_video" />
    <input type="hidden" value="<%= shareScreen %>" id="share-screen"/>

    <div class="row no-margin body">

      <div class="col s2 m3 l2 no-padding border-right">
        <div class="row no-margin chat">

          <ul id="tabs" class="tabs">
            <!--li class="tab col s3"  title="Estudiantes"><a href="#test1"><i class="material-icons">supervisor_account</i></a></li>
            <li class="tab col s9" title="Chat"><a class="active" href="#test2" ><i class="material-icons">chat</i></a></li-->
            <li class="tab col s12" title="Chat"><a class="active" href="#test2" ><i class="material-icons">chat</i></a></li>
          </ul>

          <!--div id="test1" class="col s12 no-padding">
            <div class="row no-padding no-margin">
              <div class="col s12 m12 l12 no-padding no-margin"> 
                <ul class="collapsible no-margin">   
                  <li class="active">
                    <div class="collapsible-body list no-padding no-margin">
                      <table class="no-margin no-padding">
                        <% for(var i=0; i<students.length; i++) {%>
                          <tr id="tr<%=students[i].id_student%>">
                            <td id="status<%=students[i].id_student%>" class=""><img class="status" id="img<%=students[i].id_student%>" src="/images/circle2.png"></td>
                            <td class="word" id="name<%=students[i].id_student%>" name="<%= students[i].name_student %>" title="<%= students[i].name_student %>"><%= students[i].name_student %></td>
                            <td title="Videollamada"><img name="<%=[i]%>" class="muted"  id="vid<%=students[i].id_student%>" src=""></td>
                          </tr>
                        <% } %>    
                      </table>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div-->

          <div id="test2" class="col s12 no-padding">
            <div class="row no-margin">
              <div class="col s12 m12 l12 no-padding"> 
                <ul class="collapsible no-margin">   
                  <li class="active">
                    <div class="collapsible-body no-padding no-margin">

                      <div id="div_chat">
                        <% for(var i=0; i<messagesChat.length; i++) {%>
                          <% if(messagesChat[i].tutor == "true") {%>
                            <div style=" background-color: #8d191d; color: white; width: 80%; float: left; margin: 9px 7px 5px 7px; padding: 5px; border-radius: 0px 10px 10px 10px; opacity: 0.8;" class="<%=messagesChat[i].userFullNameMsg%>" title="<%=messagesChat[i].userFullNameMsg%>"><!--i style="margin:0px 2px 0px 1px;" class="tiny material-icons">stars</i--><b id="namechat" style="text-shadow: 1px 0 0 #000, -1px 0 0 #000, 0 0.5px 0 #000, 0 -1px 0 #000, 0.5px 0.5px #000, -0.5px -0.5px 0 #000, 0.5px -0.5px 0 #000, -0.5px 0.5px 0 #000;"><%=messagesChat[i].userFullNameMsg %>:</b><!--img class="checkmark" title="Received" src=""--><br><p style="word-wrap: break-word; margin: 0;"><%=messagesChat[i].userchatMessage%></p><p style="word-wrap: break-word; margin: 0; font-size: 11px; float: right;"><%=messagesChat[i].dateMessage%></p></div>
                          <% } else {%>
                            <div style=" background-color: #4E6470; color: white; width: 80%; float: right; margin: 9px 7px 5px 7px; padding: 5px; border-radius: 10px 0px 10px 10px; opacity: 0.8;" class="<%=messagesChat[i].userFullNameMsg%>" title="<%=messagesChat[i].userFullNameMsg%>"><b id="namechat" style=" color: <%=messagesChat[i].colorMessage %>;text-shadow: 1px 0 0 #000, -1px 0 0 #000, 0 0.5px 0 #000, 0 -1px 0 #000, 0.5px 0.5px #000, -0.5px -0.5px 0 #000, 0.5px -0.5px 0 #000, -0.5px 0.5px 0 #000;"><%=messagesChat[i].userFullNameMsg %>:</b><!--img class="checkmark" title="Received" src=""--><br><p style="word-wrap: break-word; margin: 0;"><%=messagesChat[i].userchatMessage%></p><p style="word-wrap: break-word; margin: 0; font-size: 11px; float: right;"><%=messagesChat[i].dateMessage%></p></div>
                          <% } %>  
                        <% } %>
                        
                      </div>

                      <div id="sendmessage">
                        <div id="key-press">
                          <img src="/images/keydown.webp">
                          <span style="vertical-align: middle;"></span>  
                        </div>
                        <textarea id="txt-chat-message" tabindex="0" dir="ltr"  placeholder="Enviar mensaje"></textarea>
                      </div>
                      <!--img id="btn-attach-file" src="/images/adjuntar.png" title="Adjuntar archivo">
                      <img id="btn-share-screen" src="/images/screen.png" title="Compartir pantalla"-->
                      
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>

        </div>
      </div>

      <div class="col s10 m9 l10 no-padding canvas">
        <div class="row no-margin canvas" id="c2">

          <canvas id="c1"></canvas>

          <!--div id="request_call" class="ventana_flotante">
            <a class="btn-floating pulse" id="call"><i class="material-icons white black-text">videocam</i></a>
            <p id="p1"></p><br>
            <a class="btn-floating" id="hung_up1" title="Colgar"><i class="material-icons small white-text redusco">call_end</i></a>
          </div-->

          <div class="row no-margin cam" id="element">

            <video id="main-video" playsinline autoplay muted="" preload="true">
            </video>
            <div class="col s2 m2 l1 no-padding"  id="web-cam2">
              <a href="#" id="hide" title="Ocultar videocam"><i class="tiny material-icons black-text">visibility_off</i></a>
              <button title="Stop video" id="stop-video1" onclick="controlStreamVideo()"></button><button title="Stop audio" id="stop-audio1" onclick="controlStreamAudio()"></button>
            </div>
            <div id="other-videos">
              <!--div class="col s2 m2 l1 no-padding"  id="web-cam3" style="visibility: hidden;">
                <button title="Stop video" id="stop-video2" onclick="controlStreamVideo()"></button><button title="Stop audio" id="stop-audio2" onclick="controlStreamAudio()">></button>
              </div-->
            </div>
   
          </div>

          <div class="row no-margin arrow" id="num">

            <section class="atras">
              <a type="button" name="" class="card-create-course transparent redusco-text" id="atras"><i class="material-icons grey lighten-2 redusco-text">keyboard_arrow_left</i></a>
            </section>

            <section class="num center grayusco-text">
              Pag.  <input type="" name="" value="" class="redusco-text center" id="getNewPage">/       <a class="redusco-text center" id="number_page"></a>
              <input type="hidden" name="" value="" id="current">
              <input type="hidden" name="" value="" id="currentGrup">
            </section>

            <section class="adelante">
              <a type="button" name="" class="card-create-course transparent redusco-text" id="adelante"><i class="material-icons grey lighten-2 redusco-text">keyboard_arrow_right</i></a>
            </section>
            
          </div>

          <div class="no-margin no-padding file" id="target">
     
            <% for(var i=0; i<nameFiles.length; i++) {%>
              <div style="" id="div<%=i%>" name="<%= nameFiles[i].dinamic_name %>" value="" src="" class="containerCourse">
                  <input type="hidden" name="" value="<%=i%>" id="Group_overlay<%=i%>">
                  <div class="overlayCourse" id="overlay<%=i%>">
                      <div  id="imadiv<%=i%>" class="textCourse imageCourse">
                      <img id="ima_div<%=i%>" src="">
                          <%= nameFiles[i].dinamic_name %>
                      </div>
                  </div>
              </div>
            <% } %>
            <div class="Main_container_files" type="hidden">
            </div>  

          </div>  

          <div class="seccion no-margin no-padding tablero" id="tablero">
            <div id="drawing-mode-options">
              <input class="btn-floating" type="button" id="selecting-mode" title="Seleccionar">
              <input class="btn-floating" type="button" id="after" title="Deshacer">
              <input class="btn-floating" type="button" id="eraser-mode" title="Borrador">
              <input class="btn-floating" type="button" id="drawing-mode" title="Lápiz">
              <input class="btn-floating" type="button" id="textbox" title="Texto"> 
              <input type="color" class="btn-floating" value="#005E7A" id="drawing-color" title="Color de lápiz"> 
              <select class="btn-floating" id="drawing-mode-selector" title="Tipo de lápiz">
                  <option></option>
                  <option>Pencil</option>
                  <option>Circle</option>
                  <option>Spray</option>
                  <option>Pattern</option>
              </select>
              <span class="info" id="rang">30</span><input type="range" value="10" min="1" max="50" id="drawing-line-width" class="btn-floating" title="Grosor de lápiz">
              <input type="button" title="Ajustar" id="fitImage" name="disable" value="" class="btn-floating" />                                   
            </div>
          </div>  

          <div class="no-margin no-padding file-tab">

            <a title="Ocultar/Mostrar Archivos" id="trigger" class="card-create-course"><i class="material-icons small yellowusco-text" style="background-color: #eee;">archive</i></a>
            <a title="Ocultar/Mostrar Opciones del Tablero" id="trigger2" class="card-create-course"><i class="material-icons small grayusco-text">palette</i></a>
            <a href="#" id="camera" title="Mostrar videocam"><i class="material-icons small redusco-text">switch_camera</i></a>
          
          </div>
    
        </div>
      </div>

      <video id="screen-viewer" playsinline autoplay muted="" preload="true"></video>

      <div class="fixed-action direction-top">
        <button id="record" title="Detener Grabación" class="btn-floating pulse btn-large redusco" name="Start Recording"><i class="large material-icons">video_call</i></button>                     
      </div>

    </div>
  </main>


  <!--script src="/javascript/canvas-designer-tutor.js"></script-->
  <!--script src="/javascript/canvas-kurento-tutor.js"></script-->
  <script src="/javascript/kurento-group-index.js"></script>
  <!--script src="/javascript/participants.js"></script-->

  <!--div id="myModal31" class="myModal" style="display: block; opacity: 1; z-index: 9999; text-align: center;   visibility: hidden;
   position: fixed; padding-top: 100px; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(255,255,255,0); /* Black w/ opacity */">
    <div id="container-modal" style="    background-color: #fefefe;  margin: auto;  padding: 20px;  border: 1px solid #888;  width: 20%; margin: auto;">
      <p style="text-align: center;" id="p_name_user"> Se aconseja </p>
      <a  title="Silenciar el mic" id="mute_user" style="cursor: pointer;"><i class="material-icons left-align redusco-text">mic_off</i></a>  
      <a title="Explusarlo de la sala" id="block_user" style="cursor: pointer;"><i class="material-icons left-align redusco-text">do_not_disturb_alt</i></a>
    </div>
  </div-->

  </body>
</html>
